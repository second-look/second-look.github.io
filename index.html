<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Second Look</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Bootstrap core CSS -->
    <!-- <link href="../../dist/css/bootstrap.min.css" rel="stylesheet"> -->

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="stylesheet" href="d3.slider.css" />

    <!-- For ROC Curve -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,300,100,900|Open+Sans:400,300,700,600,800' rel='stylesheet' type='text/css'>

    <style>
        body {
            background-color: white;
        }

        svg {
            border: 2px solid white;
            background-color: whitesmoke;
        }

        .selected {
            fill: white;
        }

        .boundary {
            fill: lightgrey;
            stroke: black;
            stroke-width: 2px;
            opacity: 0.4;
        }

        .hidden {
            display: none;
        }

        div.tooltip {
            color: #222;
            background: #fff;
            border-radius: 3px;
            box-shadow: 0px 0px 2px 0px #a6a6a6;
            padding: .2em;
            text-shadow: #f5f5f5 0 1px 0;
            opacity: 0.9;
            position: absolute;
        }

        .site {
            stroke-width: 2px;
            stroke: white;
            fill: red;
            opacity: 0.5;
            border: 2px solid white;
        }

        .legend {
            stroke-width: 0.5px;
            stroke: black;
            fill: None;
        }

        #slider3 {
            margin: 20px 0 10px 20px;
            width: 900px;
            fill: red;
            background: beige;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

        #SVGmain {
            margin-left: auto;
            margin-right: auto;
            display: block;
        }

        .d3-slider-axis-bottom {
            fill: black;
            background: :white;
        }

        /*For ROC Curve*/

        /*body {
          font-size: 12px;
          font-family: 'Open Sans';
        }*/

        path {
            stroke-width: 3;
            fill: none;
            opacity: .7;
        }

        .axis path,
        .axis line {
            fill: none;
            stroke: grey;
            stroke-width: 2;
            shape-rendering: crispEdges;
            opacity: 1;
        }

        .d3-tip {
            font-family: Verdana;
            background: rgba(0, 0, 0, 0.8);
            padding: 8px;
            color: #fff;
            z-index: 5070;
          }

       /*For jumbotron*/
       .jumbotron {
           margin-top: 20px;
           background-image: url("ribbon.jpeg");
           margin-bottom: 20px;
           min-height: 50%;
           background-repeat: no-repeat;
           background-position: center;
           -webkit-background-size: cover;
           background-size: cover;
       }

    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Second Look</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
          	<li><a href="#about">About</a></li>
            <li><a href="#problem">Problem</a></li>
            <li><a href="#solution">Solution</a></li>
            <li><a href="#demo">Demo</a></li>
            <li><a href="#results">Results</a></li>
            <li><a href="#next-steps">Next Steps</a></li>
            <li><a href="#team">Team Members</a></li>
          </ul>

        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1 class="display-3">Second Look</h1>
        <p>AI-enabled breast cancer detection</p>
        <p><a class="btn btn-primary btn-lg" href="#about" role="button">Learn more &raquo;</a></p>
      </div>
    </div>

    <section class="primary" id="about">
        <div class="container">

            <div class="page-header">
                <h2>About</h2>
            </div>

            <p> Second Look is a CAD tool for radiologists specializing in mammography.  Enabled by object recognition and machine learning, the Second Look product provides radiologists with enhanced decision support, resulting in better outcomes for patients.

            <h3>Value Proposition:</h3>

            <div class="row text-center">
                 <center>
                 <div class="col-md-4">
                     <center>
                       <img src="target.png" class="img-responsive img-square" style="width: 174px; height: 174px">
                     </center>
                     <h4 class="service-heading">Increased sensitivity</h4>
                     <p class="text-muted">Results in earlier detection of breast cancer cases.  Research demonstrates that individuals with earlier detection have a higher survival rate.</p>
                 </div>
                 </center>
                 <div class="col-md-4">
                     <center>
                       <img src="opinion.png" class="img-responsive img-square" style="width: 174px; height: 174px">
                     </center>
                     <h4 class="service-heading">Automated second opinion</h4>
                     <p class="text-muted">Provide a "second look" after the radiologist has reviewed the mammograms.</p>
                 </div>
            </div>

            <div class="row text-center">
                 <div class="col-md-4">
                     <center>
                       <img src="global.png" class="img-responsive img-square" style="width: 174px; height: 174px">
                     </center>
                     <h4 class="service-heading">Scalable to the global radiologist population</h4>
                     <p class="text-muted">Broach reach to radiologists in both developed and developing countries.  (Shortage of dotors in developing world?)</p>
                 </div>
                 <div class="col-md-4">
                     <center>
                       <img src="workflow.png" class="img-responsive img-square" style="width: 174px; height: 174px">
                     </center>
                     <h4 class="service-heading">Easily integrated into the workflow of radiologists</h4>
                     <p class="text-muted">Designed with feedback from radiologists.  Highlights abnormalities with a bounding box. Easy-to-use user interface.</p>
                 </div>
            </div>


        </div>

    </section>

    <section class="primary" id="problem">
        <div class="container">

            <div class="page-header">
                <h2>Problem</h2>
            </div>
            <ul>
              <li>1.7 million new breast cancer cases are diagnosed annually.  In the US, 1 in 8 women will be diagnosed with breast cancer in her lifetime.</li>
              <li>It is estimated that worldwide over 508 000 women died in 2011 due to breast cancer (Global Health Estimates, WHO 2013).</li>
              <li>Although breast cancer is thought to be a disease of the developed world, almost 50% of breast cancer cases and 58% of deaths occur in less developed countries (GLOBOCAN 2008).</li>
              <li>Mammogram detection has a 15.6% false negative rate, translating to 300k undetected cases every year.</li>
            </ul>

        </div>

    </section>


    <section id="solution">
        <div class="container">
            <div class="page-header">
                <h2>Solution</h2>
            </div>

            <h3> Basic Principle </h3>
            Majority of the deep learning papers have focused on breast tumor classification problem as an “Image Classification” problem. While classifying a mammogram as “normal”, “benign” or “malignant” is necessary, it is not sufficient to help a radiologist identify hard to detect tumors. Further, a mammogram image may contain multiple tumors of different types (benign/malignant). Such mammograms clearly warrant an “Instance Segmentation” approach for accurate tumor detection
            <div>
            <center>
                       <img src="Instance Segmentation.png" class="img-responsive img-square" style="width: 600px; height: 300px">
                       <p> <b>Source:</b><a href = "https://medium.com/@nikasa1889/the-modern-history-of-object-recognition-infographic-aea18517c318" target="_blank"> 
                        The Modern History of Object Recognition - Infographic </a></p>
            </center>
            </div>
            <h3> Background on Mask R-CNN </h3>

            <p> He et al. created Mask R-CNN by extending Faster R-CNN by adding a branch for predicting class-specific object mask for Instance Segmentation in parallel with the existing object classifier and bounding box regressor [25].
            <div>
            <center>
                       <img src="Mask RCNN.png" class="img-responsive img-square" style="width: 600px; height: 300px">
                       <p> <b>Source:</b><a href = "https://arxiv.org/pdf/1703.06870.pdf" target="_blank"> 
                        Mask R-CNN </a></p>
            </center>
            </div>



            RoIPooling layer of Faster R-CNN is replaced by RoIAlign layer which uses bilinear interpolation to calculate a segmentation mask at a pixel by pixel level.
            </p>
            <div>
            <center>
                       <img src="Mask RCNN Explained.png" class="img-responsive img-square" style="width: 500px; height: 400px">
                       <p> <b>Source:</b><a href = "https://arxiv.org/pdf/1703.06870.pdf" target="_blank"> 
                        Mask R-CNN Architecture</a></p>
            </center>
            </div>



            <h3>Data Preprocessing</h3>
              <h4> 1. Dataset Selection </h4>
                <p>CBIS-DDSM dataset [13] has four sub datasets: Mass- Training, Mass-Test, Calc-Training and Calc-Test. Mass- Training has images for 1318 tumors. Mass-Test has images for 378 tumors. Calc-Training has images for 1622 calcifications. Calc-Test has images for 326 calcifications. For this project, we used Mass-Training and Mass-Test datasets only.
                Mass-Training dataset has images for 637 'Malignant' tumors, 577 'Benign' tumors and 104 'Benign without callback' tumors. We combined 'Benign' and 'Benign without callback' into a single 'Benign' class which has images for 681 tumors. All of them have corresponding segmentation masks available as the ground truth.
                Mass-Test dataset has images for 147 'Malignant' tumors, 194 'Benign' tumors and 37 'Benign without callback' tumors. We combined 'Benign' and 'Benign without callback' into a single 'Benign' class which has images for 231 tumors. All of them have corresponding segmentation masks available as the ground truth.
                The mini-MIAS dataset [12] has images for 209 'No tumor' and 121 'Tumor' cases. Since the tumor cases do not have corresponding segmentation masks available, we did not use the 121 'Tumor' cases. We randomly split the 209 'No tumor' cases into 120 for training and 89 for testing.</p>
              <h4> 2. Data Augmentation </h4>
                <p>The combined CBIS-DDSM Mass-Train (1318 cases) + mini-MIAS training (120 cases) is a small dataset. We applied data augmentation to it. We applied 6 rotations (100, 200, 300, -100, -200, -300 ) and created a total of CBIS-DDSM Mass- Train (9226 cases) + mini-MIAS training (840 cases). Then we flipped all of those images horizontally and created a total of CBIS-DDSM Mass-Train (18,452 cases) + mini-MIAS training (1680 cases).
                The combined CBIS-DDSM Mass-Test (378 cases) + mini- MIAS test (98 cases) is a small dataset. We applied data augmentation to it. We applied 6 rotations (100, 200, 300, -100, -200, -300 ) and created a total of CBIS-DDSM Mass-Test (2646 cases) + mini-MIAS test (686 cases). Then we flipped all of those images horizontally and created a total of CBIS- DDSM Mass-Test (5292 cases) + mini-MIAS test (1372 cases).
                During mammogram acquisition, the technicians ensure that breasts are properly positioned when acquiring craniocaudal (CC) and mediolateral oblique (MLO) views [26]. This ensures that the nipples are close to the center of the image. Hence, we chose not to apply translations to mammograms as it is highly unlikely to have a mammogram with the nipple farther away from image center. </p>
              <h4> 3. Patch Extraction </h4>
                <p> The CBIS-DDSM Mass-Train (18,452 cases) dataset hasimage sizes varying from 2000 x 2000 to 5000 x 5000 pixels. The mini-MIAS training (1680 cases) dataset has all images with size 1024 x 1024 pixels. The smallest tumor in CBIS-DDSM is 54 x 85 pixels. The Mask R-CNN can accept 256 x 256 images without resizing. A 2k x 2k image resized to 256 x 256 will result in 8 times reduction in width/height and 64 times reduction in area. It will be 20 times reduction in width/height and 400 times reduction in area. Small tumors will shrink so much with such reductions, that it will become impossible for the network to learn their morphology. Since, small tumors are also harder to detect for the radiologists, it is necessary that the network can detect small tumors with high accuracy.
                Hence, instead of using the whole images, we extracted patches of size 256 x 256. Many images do not have widths and heights that are a multiple of 256. So we zero padded them at right and bottom to increase their widths and heights appropriately before extracting patches.
                Over 3 million 256 x 256 pixel patches were extracted from the CBIS-DDSM Mass-Train (18,452 cases) images. 26,880 patches were extracted from the mini-MIAS training (1680 cases) images. Unlike the original images that had tumors, surrounding breast tissue and black background in each mammogram; a majority of the patches had only the black background, only the breast tissue without tumor or a combination of the black background with the breast tissue without tumor. About 250,000+ patches had either just tumor or tumor with surrounding breast tissue and the black background.
                We kept all 250,000 patches with breast tumor and sampled 300,000 patches that had 100,000 black background, 100,000 breast tissue and 100,000 black background with breast tissue. We used this dataset for training the Mask R-CNN.
                The CBIS-DDSM Mass-Test (5292 cases) dataset has image sizes varying from 2000 x 2000 to 5000 x 5000 pixels. The mini-MIAS test (1327 cases) dataset has all images with size 1024 x 1024 pixels.
                846,720 256 x 256 pixel patches were extracted from the CBIS-DDSM Mass-Test (5292 cases) images. 21,952 patches were extracted from the mini-MIAS training (1372 cases) images. We used all of those patches for testing. </p>

            <h3>Data Imbalance and Sampling</h3>
            <p>Text</p>

            <h3>Training a CNN</h3>
            <p>Text</p>

            <h3>Postprocessing and Final Predictions</h3>
            <p>Text</p>

        </div>
    </section>

    <section id="demo">
        <div class="container">
            <div class="page-header">
                <h2>Demo</h2>
            </div>
            <a href="demo.html" target="_self">Demo</a>
        </div>
    </section>

    <section id="results">
        <div class="container">
            <div class="page-header">
                <h2>Results</h2>
            </div>

            <div id="roc"> </div>

            <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
            <script src="rocChart.js"></script>
            <script>

            var margin = {top: 30, right: 61, bottom: 70, left: 61},
                width = 470 - margin.left - margin.right,
                height = 450 - margin.top - margin.bottom;

            // fpr for "false positive rate"
            // tpr for "true positive rate"

            var rocChartOptions = {
              "margin": margin,
              "width": width,
              "height": height,
              "interpolationMode": "basis",
              "fpr": "X",
              "tprVariables": [
                {
                  "name": "BPC",
                  "label": "Break Points"
                },
                {
                  "name": "WNR",
                  "label": "Winners"
                },
                {
                  "name": "FSP",
                  "label": "First Serve %",
                },
                {
                  "name": "NPW",
                  "label": "Net Points Won"
                }
              ],
              "animate": true,
              "smooth": true
            }

            d3.json("data.json", function(error, data) {
              rocChart("#roc", data, rocChartOptions)
            })

            </script>

        </div>
    </section>

    <section class="primary" id="next-steps">
        <div class="container">

            <div class="page-header">
                <h2>Next Steps</h2>
            </div>

            <ul>
              <li>Augment existing dataset with more training examples.</li>
              <li>Make demo available in the cloud.</li>
              <li>Assess calibration accuracy.</li>
              <li>Gather feedback from more radiologists specializing in mammography.</li>
            </ul>

        </div>

    </section>

    <section id="team">
        <div class="container">
          <div class="row">
            <div class="page-header">
                <h2>Team Members</h2>
            </div>
          </div>

          <div class="row">

        	  <div class="col-sm-4" style="width: 290px;">
        	    <div class="thumbnail">
                <a href="https://www.linkedin.com/in/abhijit-thatte/">
        	         <img src="abhijit.jpg" class="img-responsive img-square" alt="Team Member" style="width: 174px; height: 174px">
                </a>
                <div class="caption">
        	        <h4>Abhijit Thatte</h4>
        	      </div>
        	    </div>
        	  </div>

      		  <div class="col-sm-4" style="width: 290px;">
      		    <div class="thumbnail">
                <a href="https://www.linkedin.com/in/andrewylam/">
      		          <img src="andrew.png" class="img-responsive img-square" alt="Team Member" style="width: 174px; height: 174px">
                </a>
                <div class="caption">
      		        <h4>Andrew Lam</h4>
      		      </div>
      		    </div>
      		  </div>

      		  <div class="col-sm-4" style="width: 290px;">
      		    <div class="thumbnail">
                <a href="https://www.linkedin.com/in/ankithgunapal/">
      		          <img src="ankith.jpg" class="img-responsive img-square" alt="Team Member" style="width: 174px; height: 174px">
                </a>
                <div class="caption">
      		        <h4>Ankith Gunapal</h4>
      		      </div>
      		    </div>
      		  </div>

            <div class="col-sm-4" style="width: 290px;">
              <div class="thumbnail">
                <a href="https://www.linkedin.com/in/jlandesman/">
                  <img src="jonathan.jpg" class="img-responsive img-square" alt="Team Member" style="width: 174px; height: 174px">
                </a>
                <div class="caption">
                  <h4>Jonathan Landesman</h4>
                </div>
              </div>
            </div>

          </div>
	      </div>
     </section>

</body>

</html>
